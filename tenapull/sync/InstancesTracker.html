<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (13.0.1) on Fri May 13 02:23:54 CDT 2022 -->
<title>InstancesTracker</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2022-05-13">
<meta name="description" content="declaration: package: tenapull.sync, class: InstancesTracker">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":9,"i12":9,"i13":10,"i14":10,"i15":10,"i16":9,"i17":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">tenapull.sync</a></div>
<h1 title="Class InstancesTracker" class="title">Class InstancesTracker&lt;K,&#8203;I&gt;</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">tenapull.sync.InstancesTracker&lt;K,&#8203;I&gt;</div>
</div>
<section class="description">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - the type parameter</dd>
<dd><code>I</code> - the type parameter</dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">InstancesTracker&lt;K,&#8203;I&gt;</span>
extends java.lang.Object</pre>
<div class="block">Synchronizes and maps unique instances to a unique "key" (typically a String, Number, or Hash).
 Instances are held as weak references via a WeakHashMap which is synchronized via ReadWriteLock.
 <p>
 <p>
 NOTE: The implementation of this class inverts keys and value.
 It is a little counter-intuitive that the instance is the key of the actual WeakHashMap and the key is
 the value.  But this is needed for the "Weak" reference to work correctly, and allow garbage collection
 of unused instances.
 <p>
 In a sense, both the keys and values "keys" for each other, but only the instance is a weak reference
 that can be garbage-collected, which is why it must occupy the formal 'key' position in the WeakHashMap.
 However, for users of InstancesTracker, the instances are considered to be the "values", and the accessor
 strong references (typically strings) are considered to be the "keys".  The strongly-referenced "keys" may have
 more than one key per instance, but each key may refer to only one instance, like a normal map.
 <p>
 The "put" method is ONLY for adding additional keys to a pre-existing instance because an instance should
 not be constructed without first obtaining a CreateLock for the initial key. There are several methods for this.
 1) getOrConstruct(K key).  A default construct lambda should be provided with the InstancesTracker
 constructor.  The construct lambda will be called with appropriate locks by the getOrConstruct method.
 <p>
 2) getOrConstructWith(K key, Lambda1/2) like getOrConstruct but with a custom construction lambda instead of the
 default lambda.
 <p>
 3) constructWith(K key, Lambda1/2) Construct with a custom lambda, the returned instance will override any
 previously existing instance associated with the given key.
 <p>
 Type parameters:
 <p>
 K -- Key -- the string, integer, hash or other value used to access the instances.  There is a strong reference
 to these values
 <p>
 I -- Instances -- the type of the instances being tracked.  These are weak references so may be garbage
 collected if no strong references remain to the instance, in which case the strong reference to the key
 will also be destroyed here (though there may be strong references elsewhere that prevent it from being
 garbage-collected)</div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li class="blockList">
<section class="nestedClassSummary"><a id="nested.class.summary">
<!--   -->
</a>
<h2>Nested Class Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="InstancesTracker.AlreadyFinalized.html" title="class in tenapull.sync">InstancesTracker.AlreadyFinalized</a></span></code></th>
<td class="colLast">
<div class="block">Thrown when an unexpected state is reached during create lock finalization.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="InstancesTracker.CreateLockException.html" title="class in tenapull.sync">InstancesTracker.CreateLockException</a></span></code></th>
<td class="colLast">
<div class="block">Thrown when a construct-lambda holding a create lock tries to obtain another create lock.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="InstancesTracker.InstancesTrackerException.html" title="class in tenapull.sync">InstancesTracker.InstancesTrackerException</a></span></code></th>
<td class="colLast">
<div class="block">Abstract supertype of all specialized exceptions thrown by InstanceTracker</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="InstancesTracker.KeyFinalizer.html" title="interface in tenapull.sync">InstancesTracker.KeyFinalizer</a>&lt;<a href="InstancesTracker.KeyFinalizer.html" title="type parameter in InstancesTracker.KeyFinalizer">K</a> extends <a href="InstancesTracker.KeyFinalizer.html" title="interface in tenapull.sync">InstancesTracker.KeyFinalizer</a>&lt;<a href="InstancesTracker.KeyFinalizer.html" title="type parameter in InstancesTracker.KeyFinalizer">K</a>,&#8203;<a href="InstancesTracker.KeyFinalizer.html" title="type parameter in InstancesTracker.KeyFinalizer">I</a>&gt;,&#8203;<a href="InstancesTracker.KeyFinalizer.html" title="type parameter in InstancesTracker.KeyFinalizer">I</a>&gt;</span></code></th>
<td class="colLast">
<div class="block">The interface Key finalizer, which may be implemented by custom keys.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="InstancesTracker.KeySet.html" title="class in tenapull.sync">InstancesTracker.KeySet</a></span></code></th>
<td class="colLast">
<div class="block">NOT COMPLETED.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="InstancesTracker.NullInstanceArgument.html" title="class in tenapull.sync">InstancesTracker.NullInstanceArgument</a></span></code></th>
<td class="colLast">
<div class="block">Thrown when a null instance is passed to put or putWithLock</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="InstancesTracker.NullKeyArgument.html" title="class in tenapull.sync">InstancesTracker.NullKeyArgument</a></span></code></th>
<td class="colLast">
<div class="block">Thrown when a null key is passed to a construct method</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="InstancesTracker.TrackerDiscontinuedException.html" title="class in tenapull.sync">InstancesTracker.TrackerDiscontinuedException</a></span></code></th>
<td class="colLast">
<div class="block">Thrown if the instances tracker was discontinued because it was replaced by another
 tracker with the same key and argument types and type params</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="InstancesTracker.UnrecognizedInstance.html" title="class in tenapull.sync">InstancesTracker.UnrecognizedInstance</a></span></code></th>
<td class="colLast">
<div class="block">Thrown when an instance is passed to a method requiring an instance argument
 that was not constructed under the lock of the given instancesTracker</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
<!--   -->
</a>
<h2>Field Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#BILLION">BILLION</a></span></code></th>
<td class="colLast">
<div class="block">The constant BILLION, used for converting between nanoseconds and seconds</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#MILLION">MILLION</a></span></code></th>
<td class="colLast">
<div class="block">The constant MILLION used for converting between nanoseconds and milliseconds</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.Class,java.lang.Class,tenapull.util.Lambda1)">InstancesTracker</a></span>&#8203;(java.lang.Class&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&gt;&nbsp;keyType,
java.lang.Class&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;&nbsp;instancesType,
<a href="../util/Lambda1.html" title="interface in tenapull.util">Lambda1</a>&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>,&#8203;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;&nbsp;constructionLambda)</code></th>
<td class="colLast">
<div class="block">Instantiates a new Instances tracker of the given key and value types</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(tenapull.util.Type,tenapull.util.Type,tenapull.util.Lambda1)">InstancesTracker</a></span>&#8203;(<a href="../util/Type.html" title="class in tenapull.util">Type</a>&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&gt;&nbsp;keyType,
<a href="../util/Type.html" title="class in tenapull.util">Type</a>&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;&nbsp;instType,
<a href="../util/Lambda1.html" title="interface in tenapull.util">Lambda1</a>&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>,&#8203;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;&nbsp;constructionLambda)</code></th>
<td class="colLast">
<div class="block">Instantiates a new Instances tracker.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="tableTab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>java.util.Set&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clearKeysFor(I)">clearKeysFor</a></span>&#8203;(<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&nbsp;instance)</code></th>
<td class="colLast">
<div class="block">Clears all keys associated with the provided instance, and returns them</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code><a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#construct(K)">construct</a></span>&#8203;(<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Forces construction of an instance associated with the provided key
 using the default construct lambda provided at the InstancesTracker's
 constructor, overriding any previously existing instance associated
 with the key.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code><a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#constructWith(K,tenapull.util.Lambda1)">constructWith</a></span>&#8203;(<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&nbsp;key,
<a href="../util/Lambda1.html" title="interface in tenapull.util">Lambda1</a>&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>,&#8203;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;&nbsp;customLambda)</code></th>
<td class="colLast">
<div class="block">Forces construction of an instance associated with the provided key
 using the provided construct lambda, overriding any previously existing
 instance associated with the key.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code><a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#get(K)">get</a></span>&#8203;(<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Get the instance associated with the provided key</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>java.util.List&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#get(tenapull.util.Lambda1)">get</a></span>&#8203;(<a href="../util/Lambda1.html" title="interface in tenapull.util">Lambda1</a>&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>,&#8203;java.lang.Boolean&gt;&nbsp;filter)</code></th>
<td class="colLast">
<div class="block">Applies a filter lambda to the entire set of instances, and returns a list of
 the instances for which the lambda returns true.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>java.util.List&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#get(tenapull.util.Lambda1,int)">get</a></span>&#8203;(<a href="../util/Lambda1.html" title="interface in tenapull.util">Lambda1</a>&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>,&#8203;java.lang.Boolean&gt;&nbsp;filter,
int&nbsp;limit)</code></th>
<td class="colLast">
<div class="block">Applies a filter lambda to the entire set of instances, and returns a list of
 the instances for which the lambda returns true, stopping after the providing
 limit is reached.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code><a href="../util/Lambda1.html" title="interface in tenapull.util">Lambda1</a>&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>,&#8203;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getConstruct()">getConstruct</a></span>()</code></th>
<td class="colLast">
<div class="block">Gets the default construct lambda, provided at the construction of this
 instances tracker</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>java.util.Set&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getInstances()">getInstances</a></span>()</code></th>
<td class="colLast">
<div class="block">Gets the set of all instances constructed under the lock of this instancesTracker
 that haven't been GC'd</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>java.util.Set&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getKeysFor(I)">getKeysFor</a></span>&#8203;(<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&nbsp;instance)</code></th>
<td class="colLast">
<div class="block">Gets all keys associated with the provided instance</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code><a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOrConstruct(K)">getOrConstruct</a></span>&#8203;(<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Gets the instance matching the provided key, or constructs it with the default
 construct-lambda provided in the InstancesTracker's constructor.</div>
</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code><a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOrConstructWith(K,tenapull.util.Lambda1)">getOrConstructWith</a></span>&#8203;(<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&nbsp;key,
<a href="../util/Lambda1.html" title="interface in tenapull.util">Lambda1</a>&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>,&#8203;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;&nbsp;customLambda)</code></th>
<td class="colLast">
<div class="block">Gets the instance matching the provided key, or constructs it with the provided
 custom construct-lambda,

 Note that even if the construct lambda runs, it is possible that a different
 instance will be returned by this method, if another thread overrides the
 instance associated with the key while the construct lambda is running.</div>
</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>static <a href="../util/RecursiveMap.html" title="class in tenapull.util">RecursiveMap</a>&lt;java.lang.Thread&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getThreadBlockingMap()">getThreadBlockingMap</a></span>()</code></th>
<td class="colLast">
<div class="block">Iterates over all existing instances trackers and their create locks,
 and generates a recursive map of which threads are blocking which other
 threads.</div>
</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code>static <a href="../util/RecursiveMap.html" title="class in tenapull.util">RecursiveMap</a>&lt;java.lang.Thread&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getThreadBlockingMap(tenapull.util.RecursiveMap)">getThreadBlockingMap</a></span>&#8203;(<a href="../util/RecursiveMap.html" title="class in tenapull.util">RecursiveMap</a>&lt;java.lang.Thread&gt;&nbsp;preFilled)</code></th>
<td class="colLast">
<div class="block">Iterates over all active instances trackers and their create locks,
 and generates a recursive map of which threads are blocking which other
 threads.</div>
</td>
</tr>
<tr class="rowColor" id="i13">
<td class="colFirst"><code>java.util.Set&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#keySet()">keySet</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the set of keys.</div>
</td>
</tr>
<tr class="altColor" id="i14">
<td class="colFirst"><code><a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#put(K,I)">put</a></span>&#8203;(<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&nbsp;key,
<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&nbsp;instance)</code></th>
<td class="colLast">
<div class="block">Puts a new key-instance association for a previously constructed instances,
 or adds an extra key for an instance which is currently under construction.</div>
</td>
</tr>
<tr class="rowColor" id="i15">
<td class="colFirst"><code><a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#remove(K)">remove</a></span>&#8203;(<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Remove the key from the instances tracker.</div>
</td>
</tr>
<tr class="altColor" id="i16">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#runFinalizer(long)">runFinalizer</a></span>&#8203;(long&nbsp;maxTimeNs)</code></th>
<td class="colLast">
<div class="block">Runs a single iteration of finalization for all InstancesTracker needing it,
 with the provided maximum timeout before quitting.</div>
</td>
</tr>
<tr class="rowColor" id="i17">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#size()">size</a></span>()</code></th>
<td class="colLast">
<div class="block">The number of instances that have been constructed and which still exist
 (aka, haven't been GC'd).</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<li class="blockList">
<section class="fieldDetails"><a id="field.detail">
<!--   -->
</a>
<h2>Field Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="BILLION">BILLION</a></h3>
<div class="memberSignature"><span class="modifiers">public static final</span>&nbsp;<span class="returnType">double</span>&nbsp;<span class="memberName">BILLION</span></div>
<div class="block">The constant BILLION, used for converting between nanoseconds and seconds</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#tenapull.sync.InstancesTracker.BILLION">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="MILLION">MILLION</a></h3>
<div class="memberSignature"><span class="modifiers">public static final</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">MILLION</span></div>
<div class="block">The constant MILLION used for converting between nanoseconds and milliseconds</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#tenapull.sync.InstancesTracker.MILLION">Constant Field Values</a></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(java.lang.Class,java.lang.Class,tenapull.util.Lambda1)">InstancesTracker</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">InstancesTracker</span>&#8203;(<span class="arguments">java.lang.Class&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&gt;&nbsp;keyType,
java.lang.Class&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;&nbsp;instancesType,
<a href="../util/Lambda1.html" title="interface in tenapull.util">Lambda1</a>&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>,&#8203;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;&nbsp;constructionLambda)</span>
                 throws <span class="exceptions">java.lang.NullPointerException</span></div>
<div class="block">Instantiates a new Instances tracker of the given key and value types</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - the key type</dd>
<dd><code>instancesType</code> - the instances type</dd>
<dd><code>constructionLambda</code> - the default construction lambda (may be null)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.NullPointerException</code> - if the keyType or instancesType are null.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(tenapull.util.Type,tenapull.util.Type,tenapull.util.Lambda1)">InstancesTracker</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">InstancesTracker</span>&#8203;(<span class="arguments"><a href="../util/Type.html" title="class in tenapull.util">Type</a>&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&gt;&nbsp;keyType,
<a href="../util/Type.html" title="class in tenapull.util">Type</a>&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;&nbsp;instType,
<a href="../util/Lambda1.html" title="interface in tenapull.util">Lambda1</a>&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>,&#8203;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;&nbsp;constructionLambda)</span>
                 throws <span class="exceptions">java.lang.NullPointerException</span></div>
<div class="block">Instantiates a new Instances tracker.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - the key type</dd>
<dd><code>instType</code> - the inst type</dd>
<dd><code>constructionLambda</code> - the construction lambda (may be null)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.NullPointerException</code> - if the keyType or instancesType are null</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="keySet()">keySet</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.Set&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&gt;</span>&nbsp;<span class="memberName">keySet</span>()</div>
<div class="block">Get the set of keys.  IMPORTANT: the implementation of the keySet inner class
 was never completed.  Use extreme caution if trying to use it, as it may
 not be synchronized with the actual keys in use, and may have undefined/exception-prone
 behavior in certain cases.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the set</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="size()">size</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">size</span>()</div>
<div class="block">The number of instances that have been constructed and which still exist
 (aka, haven't been GC'd).  Note that this may be an expensive operation,
 because it requires waiting for construction to finish on all existing
 create locks, and then finalizing all of them.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the size</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="get(java.lang.Object)">
<!--   -->
</a><a id="get(K)">get</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a></span>&nbsp;<span class="memberName">get</span>&#8203;(<span class="arguments"><a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&nbsp;key)</span></div>
<div class="block">Get the instance associated with the provided key</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the instance associated with the provided key</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="get(tenapull.util.Lambda1)">get</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.List&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;</span>&nbsp;<span class="memberName">get</span>&#8203;(<span class="arguments"><a href="../util/Lambda1.html" title="interface in tenapull.util">Lambda1</a>&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>,&#8203;java.lang.Boolean&gt;&nbsp;filter)</span></div>
<div class="block">Applies a filter lambda to the entire set of instances, and returns a list of
 the instances for which the lambda returns true.

 Note that this may be an expensive operation, because it requires waiting for
 construction to finish on all existing create locks, and then finalizing all of them
 before the comparisons can be conducted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filter</code> - the filter</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the list of matching instances</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="get(tenapull.util.Lambda1,int)">get</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.List&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;</span>&nbsp;<span class="memberName">get</span>&#8203;(<span class="arguments"><a href="../util/Lambda1.html" title="interface in tenapull.util">Lambda1</a>&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>,&#8203;java.lang.Boolean&gt;&nbsp;filter,
int&nbsp;limit)</span></div>
<div class="block">Applies a filter lambda to the entire set of instances, and returns a list of
 the instances for which the lambda returns true, stopping after the providing
 limit is reached.  If limit &lt;= 0 then the iteration will not stop until
 all instances have been checked.

 Note that this may be an expensive operation, because it requires waiting for
 construction to finish on all existing create locks, and then finalizing all of them
 before the comparisons can be conducted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filter</code> - the filter</dd>
<dd><code>limit</code> - the number of matched instances at which to stop checking, or &lt;= 0
               to check every instance</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the list of matching instances</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getOrConstruct(java.lang.Object)">
<!--   -->
</a><a id="getOrConstruct(K)">getOrConstruct</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a></span>&nbsp;<span class="memberName">getOrConstruct</span>&#8203;(<span class="arguments"><a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&nbsp;key)</span>
                 throws <span class="exceptions"><a href="InstancesTracker.InstancesTrackerException.html" title="class in tenapull.sync">InstancesTracker.InstancesTrackerException</a>,
<a href="InstancesTracker.CreateLockException.html" title="class in tenapull.sync">InstancesTracker.CreateLockException</a></span></div>
<div class="block">Gets the instance matching the provided key, or constructs it with the default
 construct-lambda provided in the InstancesTracker's constructor.

 Note that even if the construct lambda runs, it is possible that a different
 instance will be returned by this method, if another thread overrides the
 instance associated with the key while the construct lambda is running.
 Also note that getOrConstruct is NOT considered a force-overriding method call,
 and that the lambda is not guaranteed to run, though IF it does run it will
 only run before this method returns.
 To force-override a key's associated instance, use construct or constructWith</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the instance associated with the key</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="InstancesTracker.InstancesTrackerException.html" title="class in tenapull.sync">InstancesTracker.InstancesTrackerException</a></code> - if the key is null</dd>
<dd><code><a href="InstancesTracker.CreateLockException.html" title="class in tenapull.sync">InstancesTracker.CreateLockException</a></code> - if this method is being called from within the context
 of another construct lambda holding a create lock from this instancesTracker.
 To add a key-instance pair within such a context, use the put method</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="constructWith(java.lang.Object,tenapull.util.Lambda1)">
<!--   -->
</a><a id="constructWith(K,tenapull.util.Lambda1)">constructWith</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a></span>&nbsp;<span class="memberName">constructWith</span>&#8203;(<span class="arguments"><a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&nbsp;key,
<a href="../util/Lambda1.html" title="interface in tenapull.util">Lambda1</a>&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>,&#8203;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;&nbsp;customLambda)</span>
                throws <span class="exceptions"><a href="InstancesTracker.InstancesTrackerException.html" title="class in tenapull.sync">InstancesTracker.InstancesTrackerException</a>,
java.lang.NullPointerException,
<a href="InstancesTracker.CreateLockException.html" title="class in tenapull.sync">InstancesTracker.CreateLockException</a></span></div>
<div class="block">Forces construction of an instance associated with the provided key
 using the provided construct lambda, overriding any previously existing
 instance associated with the key.

 Note that even though the construct lambda is guaranteed to run before
 this method returns, it is still possible that a different
 instance will be returned by this method, if another thread also overrides the
 instance associated with the key while the construct lambda is running.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key</dd>
<dd><code>customLambda</code> - the custom construct lambda</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="InstancesTracker.InstancesTrackerException.html" title="class in tenapull.sync">InstancesTracker.InstancesTrackerException</a></code> - if the key is null</dd>
<dd><code>java.lang.NullPointerException</code> - if the construct lambda is null</dd>
<dd><code><a href="InstancesTracker.CreateLockException.html" title="class in tenapull.sync">InstancesTracker.CreateLockException</a></code> - if this method is being called from within the context
 of another construct lambda holding a create lock from this instancesTracker.
 To add a key-instance pair within such a context, use the put method</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getOrConstructWith(java.lang.Object,tenapull.util.Lambda1)">
<!--   -->
</a><a id="getOrConstructWith(K,tenapull.util.Lambda1)">getOrConstructWith</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a></span>&nbsp;<span class="memberName">getOrConstructWith</span>&#8203;(<span class="arguments"><a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&nbsp;key,
<a href="../util/Lambda1.html" title="interface in tenapull.util">Lambda1</a>&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>,&#8203;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;&nbsp;customLambda)</span>
                     throws <span class="exceptions"><a href="InstancesTracker.InstancesTrackerException.html" title="class in tenapull.sync">InstancesTracker.InstancesTrackerException</a>,
java.lang.NullPointerException,
<a href="InstancesTracker.CreateLockException.html" title="class in tenapull.sync">InstancesTracker.CreateLockException</a></span></div>
<div class="block">Gets the instance matching the provided key, or constructs it with the provided
 custom construct-lambda,

 Note that even if the construct lambda runs, it is possible that a different
 instance will be returned by this method, if another thread overrides the
 instance associated with the key while the construct lambda is running.
 Also note that getOrConstruct is NOT considered a force-overriding method call,
 and that the lambda is not guaranteed to run, though IF it does run it will
 only run before this method returns.
 To force-override a key's associated instance, use construct or constructWith</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the instance associated with the key</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="InstancesTracker.InstancesTrackerException.html" title="class in tenapull.sync">InstancesTracker.InstancesTrackerException</a></code> - if the key is null</dd>
<dd><code><a href="InstancesTracker.CreateLockException.html" title="class in tenapull.sync">InstancesTracker.CreateLockException</a></code> - if this method is being called from within the context
 of another construct lambda holding a create lock from this instancesTracker.
 To add a key-instance pair within such a context, use the put method</dd>
<dd><code>java.lang.NullPointerException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="construct(java.lang.Object)">
<!--   -->
</a><a id="construct(K)">construct</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a></span>&nbsp;<span class="memberName">construct</span>&#8203;(<span class="arguments"><a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&nbsp;key)</span>
            throws <span class="exceptions"><a href="InstancesTracker.InstancesTrackerException.html" title="class in tenapull.sync">InstancesTracker.InstancesTrackerException</a>,
<a href="InstancesTracker.CreateLockException.html" title="class in tenapull.sync">InstancesTracker.CreateLockException</a></span></div>
<div class="block">Forces construction of an instance associated with the provided key
 using the default construct lambda provided at the InstancesTracker's
 constructor, overriding any previously existing instance associated
 with the key.

 Note that even though the default construct lambda is guaranteed to run before
 this method returns, it is still possible that a different
 instance will be returned by this method, if another thread also overrides the
 instance associated with the key while the lambda is running.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the instance associated with the key</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="InstancesTracker.InstancesTrackerException.html" title="class in tenapull.sync">InstancesTracker.InstancesTrackerException</a></code> - if the key is null</dd>
<dd><code><a href="InstancesTracker.CreateLockException.html" title="class in tenapull.sync">InstancesTracker.CreateLockException</a></code> - if this method is being called from within the context
 of another construct lambda holding a create lock from this instancesTracker.
 To add a key-instance pair within such a context, use the put method</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="remove(java.lang.Object)">
<!--   -->
</a><a id="remove(K)">remove</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a></span>&nbsp;<span class="memberName">remove</span>&#8203;(<span class="arguments"><a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&nbsp;key)</span></div>
<div class="block">Remove the key from the instances tracker.  Note that although the
 instance the key referenced may no longer have any key associated with it,
 the instance will still be held as a weak reference in the InstancesTracker,
 and (if an external reference to it exists) may have a new key associated with it
 using the put method.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key to remove</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the instance that was associated with the key</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getKeysFor(java.lang.Object)">
<!--   -->
</a><a id="getKeysFor(I)">getKeysFor</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.Set&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&gt;</span>&nbsp;<span class="memberName">getKeysFor</span>&#8203;(<span class="arguments"><a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&nbsp;instance)</span>
                            throws <span class="exceptions"><a href="InstancesTracker.UnrecognizedInstance.html" title="class in tenapull.sync">InstancesTracker.UnrecognizedInstance</a></span></div>
<div class="block">Gets all keys associated with the provided instance</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>instance</code> - the instance</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the set of keys associated with the provided instance</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="InstancesTracker.UnrecognizedInstance.html" title="class in tenapull.sync">InstancesTracker.UnrecognizedInstance</a></code> - if the instance is not recognized as an instance constructed
 under the lock of this instancesTracker.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="clearKeysFor(java.lang.Object)">
<!--   -->
</a><a id="clearKeysFor(I)">clearKeysFor</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.Set&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&gt;</span>&nbsp;<span class="memberName">clearKeysFor</span>&#8203;(<span class="arguments"><a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&nbsp;instance)</span>
                              throws <span class="exceptions"><a href="InstancesTracker.UnrecognizedInstance.html" title="class in tenapull.sync">InstancesTracker.UnrecognizedInstance</a></span></div>
<div class="block">Clears all keys associated with the provided instance, and returns them</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>instance</code> - the instance</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the set of keys previously associated with the instance</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="InstancesTracker.UnrecognizedInstance.html" title="class in tenapull.sync">InstancesTracker.UnrecognizedInstance</a></code> - if the instance is not recognized as an instance constructed
 under the lock of this instancesTracker.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getInstances()">getInstances</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.Set&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;</span>&nbsp;<span class="memberName">getInstances</span>()</div>
<div class="block">Gets the set of all instances constructed under the lock of this instancesTracker
 that haven't been GC'd</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the instances</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="put(java.lang.Object,java.lang.Object)">
<!--   -->
</a><a id="put(K,I)">put</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a></span>&nbsp;<span class="memberName">put</span>&#8203;(<span class="arguments"><a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>&nbsp;key,
<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&nbsp;instance)</span>
      throws <span class="exceptions"><a href="InstancesTracker.UnrecognizedInstance.html" title="class in tenapull.sync">InstancesTracker.UnrecognizedInstance</a></span></div>
<div class="block">Puts a new key-instance association for a previously constructed instances,
 or adds an extra key for an instance which is currently under construction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key</dd>
<dd><code>instance</code> - the instance</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="InstancesTracker.UnrecognizedInstance.html" title="class in tenapull.sync">InstancesTracker.UnrecognizedInstance</a></code> - if the instance is not recognized as an instance constructed
 under the lock of this instancesTracker.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getConstruct()">getConstruct</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="../util/Lambda1.html" title="interface in tenapull.util">Lambda1</a>&lt;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">K</a>,&#8203;<a href="InstancesTracker.html" title="type parameter in InstancesTracker">I</a>&gt;</span>&nbsp;<span class="memberName">getConstruct</span>()</div>
<div class="block">Gets the default construct lambda, provided at the construction of this
 instances tracker</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the default construct lambda</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getThreadBlockingMap()">getThreadBlockingMap</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="../util/RecursiveMap.html" title="class in tenapull.util">RecursiveMap</a>&lt;java.lang.Thread&gt;</span>&nbsp;<span class="memberName">getThreadBlockingMap</span>()</div>
<div class="block">Iterates over all existing instances trackers and their create locks,
 and generates a recursive map of which threads are blocking which other
 threads.  This method begins with the threadBlockingMap returned from
 ReadWriteLock</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the map of which threads are blocking which other threads</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getThreadBlockingMap(tenapull.util.RecursiveMap)">getThreadBlockingMap</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="../util/RecursiveMap.html" title="class in tenapull.util">RecursiveMap</a>&lt;java.lang.Thread&gt;</span>&nbsp;<span class="memberName">getThreadBlockingMap</span>&#8203;(<span class="arguments"><a href="../util/RecursiveMap.html" title="class in tenapull.util">RecursiveMap</a>&lt;java.lang.Thread&gt;&nbsp;preFilled)</span></div>
<div class="block">Iterates over all active instances trackers and their create locks,
 and generates a recursive map of which threads are blocking which other
 threads.  The caller may include a pre-filled Recursive map (e.g. from
 ReadWriteLock.getThreadBlockingMap) that will be further populated, or
 an empty RecursiveMap to just see the blocks from InstancesTrackers</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>preFilled</code> - the pre filled recursive map of thread blocks</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the thread blocking map8\</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="runFinalizer(long)">runFinalizer</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">runFinalizer</span>&#8203;(<span class="arguments">long&nbsp;maxTimeNs)</span></div>
<div class="block">Runs a single iteration of finalization for all InstancesTracker needing it,
 with the provided maximum timeout before quitting.  This method is used by
 the finalizer thread, and can also be invoked by other threads with nothing
 else to do (e.g. by JobFactory)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxTimeNs</code> - the max time in nanoseconds before quitting</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if there was finalizing that needed to be done, false if there
 was nothing to do</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
